### Описание проекта

- Проект представляет собой backend сервер мобильной игры.
- В качестве транспорта используется сокет (реализация с использованием библиотеки Netty http://netty.io)
- Протокол взаимодействия асинхронный, посредством команд request/response.
- Протокол сериализации самописный с использованием JSON. 
- Проект реализован на стеке технологий фреймворка Spring Boot.

###### Описание структуры пакетов

**common** 
- базовые утилиты
- команды и структуры транспортного уровня
- классы кодирование и декодирования команд в поток 
   
**platform**
- реализация сокетного соединения
- маршрутизация входящих команд
- авторизация, создание и поддержка жизненного цикла сессии игрока 
- интерфейсы для реализации в конкретном игровом сервере  
  
**server**
- класс запуска сервера
- реализация загрузки и сохранения профиля игрока в БД
- реализация авторизации игрока  
- контроллеры входящих сообщений
- сервисы бизнес логики

### Постановка задачи
            
1. Вынести первоначальные значения полей профиля (класс UserProfile) в файл настройки (beans.xml).
Изначально они заданы как значения по умолчанию для полей таблицы user_profile
    
  
2. Реализовать контроллер и бизнес логику для команды **StartGameRequest**  
    - пример реализации контроллера - PingController
    - стоимость одной игры - 5 единиц энергии
    - необходима проверка на повторное получение команды без получения команды FinishGameRequest

3. Реализовать контроллер и бизнес логику для команды **FinishGameRequest**
    - за победу в игре начисляется 10 единиц опыта, 10 монет и 3 единицы рейтинга
    - за проигрыш - начисляется 3 единицы опыта и списывается 1 единица рейтинга
    - рейтинг игрока не может быть отрицательным   
    - необходима проверка на повторное получение команды без получения команды StartGameRequest
                 
4. При достижении определенного порога опыта реализовать переход игрока на след. уровень.
    - опыт при этом сбрасывается до значения (текущий опыт - (минус) опыт необходимый для достижения уровня).
    - в момент увеличении уровня игроку выдается награда.
    - пороги опыта и значение награды заданы в файле (beans.xml)

5. Реализовать контроллер и бизнес логику для команды **TopRequest**
    - количество игроков в ТОП-е вынести в файл конфигурации

6. Реализовать возможность изменения игроком своего имени (поле name в классе UserProfile)
    - сменить имя игрок может не чаще чем один раз в сутки

###### Дополнительно
      
Все константы должны задаваться или в файле application.properties или в beans.xml

Для каждого пункта необходимо наличие Unit тестов.
Примеры присутствуют в проекте.

В проекте используется InMemory БД H2.
Если есть опыт использования mySql или PostgreSql плюсом будет перевод проекта под одну из этих БД.
PostgreSql - более предпочтительна.

Если соискатель указал в резюме, что он знаком с VCS Git

- реализация каждого пункта должна быть выполнена в отдельной ветке с последующим merge в ветку develop

### Задание повышенной сложности (не обязательное к выполнению)

Недостатком текущей реализации обработки команд является то, что команды обрабатываются в потоке ввода/вывода библиотеки Netty.
Потенциально это может привести к отказу в обслуживании, если время обработки входящих команд будет большим по той ил иной причине.
Решение этой проблемы состоит в реализации шаблона нагребатель/разгребатель.
При котором входящие команды помещаются в очередь команд с последующим извлечением и обработкой несколькими потоками.   



